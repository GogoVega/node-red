const apiUtil = require("../util");

let runtimeAPI;

module.exports = {
    init: function (_runtimeAPI) {
        runtimeAPI = _runtimeAPI;
    },
    getCatalogues: function(req, res) {
        const opts = {
            user: req.user,
            reload: req.query.reload === "true",
        };

        runtimeAPI.palette.getCatalogues(opts)
            .then((result) => res.json(result))
            .catch((error) => apiUtil.rejectHandler(req, res, error));
    },
};
